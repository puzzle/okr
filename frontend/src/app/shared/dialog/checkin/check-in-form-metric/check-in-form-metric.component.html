<mat-dialog-content class="d-flex justify-content-center flex-column mb-2">
  <div class="w-100 d-flex justify-content-start">
    <h1 class="title">Check-in erfassen ({{ currentDate | date: "dd.MM.yyyy" }})</h1>
  </div>
  <div *ngIf="!continued">
    <p class="fs-6 mt-1">Key Result</p>
    <span *ngIf="keyResult.lastCheckIn?.changeInfo != ''" class="mt-3 ms-3">{{
      keyResult.lastCheckIn?.changeInfo
    }}</span>
    <form [formGroup]="dialogForm" class="d-flex flex-column mt-4">
      <!--    Confidence and Value   -->
      <div class="d-flex flex-row w-100">
        <div class="d-flex flex-column w-25">
          <mat-label class="mb-2"
            >Aktueller Wert<span *ngIf="keyResult.unit != 'PERCENT'"> ({{ keyResult.unit }})</span>:
          </mat-label>
          <div class="d-flex flex-column mb-3">
            <app-custom-input
              class="custom-input"
              [formGroup]="dialogForm"
              [formControlNameGiven]="'value'"
              (focusout)="formatValue()"
            ></app-custom-input>
            <div *ngIf="isTouchedOrDirty('value')">
              <mat-error class="fw-bold error-font" *ngFor="let errorKey of getErrorKeysOfFormField('value')">
                {{ errorMessages[errorKey.toUpperCase()] }}
              </mat-error>
            </div>
          </div>
        </div>
        <div class="d-flex flex-column w-75 justify-content-start align-items-start ms-5">
          <mat-label class="mb-3">Confidence um Target zu erreichen</mat-label>
          <app-confidence [edit]="true" [keyResult]="keyResult"></app-confidence>
        </div>
      </div>
    </form>
  </div>
  <div *ngIf="continued">
    <app-check-in-base-informations [dialogForm]="dialogForm"></app-check-in-base-informations>
  </div>
  <!--    Buttons to submit the check-in-->
  <div class="d-flex flex-row">
    <button *ngIf="!continued" (click)="continued = true" class="ps-3 submit mb-3 pe-3 pt-1 pb-1 fw-bold text-white">
      Weiter
    </button>
    <button
      (click)="saveCheckIn()"
      *ngIf="continued"
      type="submit"
      mat-button
      mat-dialog-close
      class="submit mb-3 pe-3 pt-1 pb-1 fw-bold text-white"
    >
      Check-in erfassen
    </button>
    <button mat-button mat-dialog-close class="cancel ms-3 mb-3 ps-3 pe-3 pt-1 pb-1 fw-bold">Abbrechen</button>
  </div>
</mat-dialog-content>

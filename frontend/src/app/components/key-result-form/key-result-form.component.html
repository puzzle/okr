<form [formGroup]="keyResultForm">
  <div class="okr-form-row okr-form-label-input-container">
    <label class="okr-form-label okr-form-col" for="title">Titel</label>
    <div class="okr-form-input">
      <textarea
        [attr.data-testId]="'title-input'"
        class="big-dialog-form-field"
        [ngClass]="formInputCheck(keyResultForm, 'title')"
        formControlName="title"
        id="title"
      ></textarea>
      <app-error [controlPath]="['title']" [name]="'Titel'"></app-error>
    </div>
  </div>

  <app-key-result-type
    [keyResult]="keyResult"
    [keyResultForm]="keyResultForm"
    [users]="filteredUsers$"
  ></app-key-result-type>


  <div class="okr-form-row okr-form-label-input-container">
    <label class="okr-form-label okr-form-col" for="description">Beschreibung (optional)</label>
    <div class="okr-form-input">
      <textarea
        [attr.data-testId]="'description-input'"
        class="big-dialog-form-field"
        [ngClass]="formInputCheck(keyResultForm, 'description')"
        formControlName="description"
        id="description"
      ></textarea>
      <app-error [controlPath]="['description']" [name]="'Beschreibung'"></app-error>
    </div>
  </div>


  <div formArrayName="actionList">
    <app-action-plan [onDelete]="actionPlanOnDelete" [addItemSubject]="actionPlanAddItemSubject"></app-action-plan>
  </div>
</form>

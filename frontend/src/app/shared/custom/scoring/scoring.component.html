<div class="d-flex flex-column">
  <div class="scoring-container d-flex flex-row">
    <div class="flex-fill">
      <div>
        <span class="okr-score-label">
          <span class="text-center text-small">Fail</span>
        </span>
        <span class="okr-score-label okr-score-commit">
          <span class="text-center text-small">Commit</span>
        </span>
        <span class="okr-score-label">
          <span class="text-center text-small">Target</span>
        </span>
      </div>
      <div
        [ngStyle]="{ display: stretched ? 'none' : 'flex' }"
        [attr.data-testId]="'normal-scoring'"
        class="align-items-start"
      >
        <span class="okr-score">
          <span #fail [attr.data-testId]="'fail'" class="child h-100 d-flex align-items-center">
            <div
              *ngIf="
                keyResult.keyResultType == 'metric' &&
                keyResult.lastCheckIn &&
                +keyResult.lastCheckIn?.value! < castToMetric().baseline
              "
              class="fs-6 text-white fw-bold text-center score-red scoring-error-badge rounded-circle"
            >
              !
            </div>
          </span>
        </span>
        <span class="okr-score okr-score-commit">
          <span class="child" #commit [attr.data-testId]="'commit'"></span>
        </span>
        <span class="okr-score">
          <span class="child" #target [attr.data-testId]="'target'"></span>
        </span>
      </div>
      <div
        [ngStyle]="{ display: stretched ? 'block' : 'none' }"
        class="stretch-div"
        [attr.data-testId]="'star-scoring'"
      ></div>
    </div>

    <div class="okr-stretch d-flex flex-column align-items-center mb-1">
      <span class="text-center text-small">Stretch</span>
      <img
        [src]="'assets/icons/star-' + iconPath + '-icon.svg'"
        [attr.data-testId]="'stretch'"
        alt="Star-Icon"
        class="starIcon"
      />
    </div>
  </div>
</div>
